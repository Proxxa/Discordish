<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Adding favicon -->
    

    <!-- Adding meta -->
    

    <!-- Adding external script-->
    

    <!-- Adding external style-->
    

    <!-- Adding scripts-->
    

    <!-- Adding style-->
    

    <!-- Adding overlay script-->
    

    <!-- Adding overlay style-->
    


    <title>
      guild/Guild.js
    </title>

    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/third-party/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/third-party/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/reset.css">
    <link type="text/css" rel="stylesheet" href="styles/clean-jsdoc-theme-base.css">
    <link type="text/css" rel="stylesheet" href="styles/clean-jsdoc-theme-dark.css">
    
    <svg aria-hidden="true" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
    style="display:none">
    <defs>
        <symbol id="copy-icon" viewbox="0 0 488.3 488.3">
            <g>
                <path
                    d="M314.25,85.4h-227c-21.3,0-38.6,17.3-38.6,38.6v325.7c0,21.3,17.3,38.6,38.6,38.6h227c21.3,0,38.6-17.3,38.6-38.6V124    C352.75,102.7,335.45,85.4,314.25,85.4z M325.75,449.6c0,6.4-5.2,11.6-11.6,11.6h-227c-6.4,0-11.6-5.2-11.6-11.6V124    c0-6.4,5.2-11.6,11.6-11.6h227c6.4,0,11.6,5.2,11.6,11.6V449.6z" />
                <path
                    d="M401.05,0h-227c-21.3,0-38.6,17.3-38.6,38.6c0,7.5,6,13.5,13.5,13.5s13.5-6,13.5-13.5c0-6.4,5.2-11.6,11.6-11.6h227    c6.4,0,11.6,5.2,11.6,11.6v325.7c0,6.4-5.2,11.6-11.6,11.6c-7.5,0-13.5,6-13.5,13.5s6,13.5,13.5,13.5c21.3,0,38.6-17.3,38.6-38.6    V38.6C439.65,17.3,422.35,0,401.05,0z" />
            </g>
        </symbol>
        <symbol id='search-icon' viewBox="0 0 512 512">
            <g>
                <g>
                    <path
                        d="M225.474,0C101.151,0,0,101.151,0,225.474c0,124.33,101.151,225.474,225.474,225.474    c124.33,0,225.474-101.144,225.474-225.474C450.948,101.151,349.804,0,225.474,0z M225.474,409.323    c-101.373,0-183.848-82.475-183.848-183.848S124.101,41.626,225.474,41.626s183.848,82.475,183.848,183.848    S326.847,409.323,225.474,409.323z" />
                </g>
            </g>
            <g>
                <g>
                    <path
                        d="M505.902,476.472L386.574,357.144c-8.131-8.131-21.299-8.131-29.43,0c-8.131,8.124-8.131,21.306,0,29.43l119.328,119.328    c4.065,4.065,9.387,6.098,14.715,6.098c5.321,0,10.649-2.033,14.715-6.098C514.033,497.778,514.033,484.596,505.902,476.472z" />
                </g>
            </g>
        </symbol>
        <symbol id="down-icon" viewBox="0 0 16 16">
            <path 
                fill-rule="evenodd" 
                clip-rule="evenodd" 
                d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z"
            >
            </path>
        </symbol>
    </defs>
</svg>
  </head>

  <body>

    <nav class="navbar" id="navbar">
      <div class="navbar-heading" id="navbar-heading"><a href="index.html"><h2 class="navbar-heading-text">Home</h2></a></div><div class="search-box" id="search-box"><div class="search-box-input-container"><input class="search-box-input" type="text" placeholder="Search..." id="search-box-input" /><svg class="search-icon" alt="search-icon"><use xlink:href="#search-icon"></use></svg></div><div class="search-item-container" id="search-item-container"><ul class="search-item-ul" id="search-item-ul"></ul></div></div><div class="sidebar-main-content" id="sidebar-main-content"><div class="accordion collapsed" id="4365238" > <h3 class="accordion-heading">Classes<svg><use xlink:href="#down-icon"></use></svg></h3><ul class="accordion-content"><li class="accordion collapsed child" id=8580325><div class="accordion-heading child"><a href="Base.html">Base</a><svg><use xlink:href="#down-icon"></use></svg></div><ul class='methods accordion-content'><li data-type='method'><a href="Base.html#.resolve">resolve</a></li></ul></li><li class="accordion collapsed child" id=3399692><div class="accordion-heading child"><a href="BitField.html">BitField</a><svg><use xlink:href="#down-icon"></use></svg></div><ul class='methods accordion-content'><li data-type='method'><a href="BitField.html#.resolve">resolve</a></li><li data-type='method'><a href="BitField.html#add">add</a></li><li data-type='method'><a href="BitField.html#any">any</a></li><li data-type='method'><a href="BitField.html#equals">equals</a></li><li data-type='method'><a href="BitField.html#freeze">freeze</a></li><li data-type='method'><a href="BitField.html#has">has</a></li><li data-type='method'><a href="BitField.html#missing">missing</a></li><li data-type='method'><a href="BitField.html#remove">remove</a></li><li data-type='method'><a href="BitField.html#serialize">serialize</a></li><li data-type='method'><a href="BitField.html#toArray">toArray</a></li></ul></li><li class="accordion collapsed child" id=8932768><div class="accordion-heading child"><a href="Channel.html">Channel</a><svg><use xlink:href="#down-icon"></use></svg></div><ul class='methods accordion-content'><li data-type='method'><a href="Channel.html#.compelete">compelete</a></li><li data-type='method'><a href="Channel.html#fetch">fetch</a></li></ul></li><li class="accordion collapsed child" id=9834087><div class="accordion-heading child"><a href="ChannelManager.html">ChannelManager</a><svg><use xlink:href="#down-icon"></use></svg></div><ul class='methods accordion-content'><li data-type='method'><a href="ChannelManager.html#fetch">fetch</a></li><li data-type='method'><a href="ChannelManager.html#resolve">resolve</a></li><li data-type='method'><a href="ChannelManager.html#updateCache">updateCache</a></li></ul></li><li class="accordion collapsed child" id=6524922><div class="accordion-heading child"><a href="Client.html">Client</a><svg><use xlink:href="#down-icon"></use></svg></div><ul class='methods accordion-content'><li data-type='method'><a href="Client.html#login">login</a></li></ul></li><li class="accordion collapsed child" id=6048842><div class="accordion-heading child"><a href="GatewayManager.html">GatewayManager</a><svg><use xlink:href="#down-icon"></use></svg></div><ul class='methods accordion-content'><li data-type='method'><a href="GatewayManager.html#connect">connect</a></li></ul></li><li class="accordion collapsed child" id=2273018><div class="accordion-heading child"><a href="Guild.html">Guild</a><svg><use xlink:href="#down-icon"></use></svg></div><ul class='methods accordion-content'><li data-type='method'><a href="Guild.html#addFeatures">addFeatures</a></li><li data-type='method'><a href="Guild.html#delete">delete</a></li><li data-type='method'><a href="Guild.html#fetch">fetch</a></li><li data-type='method'><a href="Guild.html#setBanner">setBanner</a></li><li data-type='method'><a href="Guild.html#setDefaultNotifications">setDefaultNotifications</a></li><li data-type='method'><a href="Guild.html#setDescription">setDescription</a></li><li data-type='method'><a href="Guild.html#setDiscoverySplash">setDiscoverySplash</a></li><li data-type='method'><a href="Guild.html#setFeatures">setFeatures</a></li><li data-type='method'><a href="Guild.html#setFilter">setFilter</a></li><li data-type='method'><a href="Guild.html#setIcon">setIcon</a></li><li data-type='method'><a href="Guild.html#setIdleChannel">setIdleChannel</a></li><li data-type='method'><a href="Guild.html#setName">setName</a></li><li data-type='method'><a href="Guild.html#setOwner">setOwner</a></li><li data-type='method'><a href="Guild.html#setRulesChannel">setRulesChannel</a></li><li data-type='method'><a href="Guild.html#setSplash">setSplash</a></li><li data-type='method'><a href="Guild.html#setSystemChannel">setSystemChannel</a></li><li data-type='method'><a href="Guild.html#setSystemFlags">setSystemFlags</a></li><li data-type='method'><a href="Guild.html#setTimeout">setTimeout</a></li><li data-type='method'><a href="Guild.html#setUpdatesChannel">setUpdatesChannel</a></li><li data-type='method'><a href="Guild.html#setVerification">setVerification</a></li></ul></li><li class="accordion collapsed child" id=1497200><div class="accordion-heading child"><a href="GuildChannel.html">GuildChannel</a><svg><use xlink:href="#down-icon"></use></svg></div><ul class='methods accordion-content'><li data-type='method'><a href="GuildChannel.html#fetch">fetch</a></li><li data-type='method'><a href="GuildChannel.html#setName">setName</a></li><li data-type='method'><a href="GuildChannel.html#setParent">setParent</a></li><li data-type='method'><a href="GuildChannel.html#setPosition">setPosition</a></li></ul></li><li class="accordion collapsed child" id=866775><div class="accordion-heading child"><a href="GuildManager.html">GuildManager</a><svg><use xlink:href="#down-icon"></use></svg></div><ul class='methods accordion-content'><li data-type='method'><a href="GuildManager.html#fetch">fetch</a></li><li data-type='method'><a href="GuildManager.html#resolve">resolve</a></li><li data-type='method'><a href="GuildManager.html#updateCache">updateCache</a></li></ul></li><li class="accordion collapsed child" id=5316372><div class="accordion-heading child"><a href="GuildMember.html">GuildMember</a><svg><use xlink:href="#down-icon"></use></svg></div><ul class='methods accordion-content'><li data-type='method'><a href="GuildMember.html#fetch">fetch</a></li></ul></li><li class="accordion collapsed child" id=2876103><div class="accordion-heading child"><a href="Manager.html">Manager</a><svg><use xlink:href="#down-icon"></use></svg></div><ul class='methods accordion-content'><li data-type='method'><a href="Manager.html#resolve">resolve</a></li><li data-type='method'><a href="Manager.html#updateCache">updateCache</a></li></ul></li><li class="accordion collapsed child" id=4341739><div class="accordion-heading child"><a href="MemberManager.html">MemberManager</a><svg><use xlink:href="#down-icon"></use></svg></div><ul class='methods accordion-content'><li data-type='method'><a href="MemberManager.html#fetch">fetch</a></li><li data-type='method'><a href="MemberManager.html#listMembers">listMembers</a></li><li data-type='method'><a href="MemberManager.html#resolve">resolve</a></li><li data-type='method'><a href="MemberManager.html#searchMembers">searchMembers</a></li><li data-type='method'><a href="MemberManager.html#updateCache">updateCache</a></li></ul></li><li class="accordion-list" id=""><a href="Message.html">Message</a></li><li class="accordion collapsed child" id=6809846><div class="accordion-heading child"><a href="TextChannel.html">TextChannel</a><svg><use xlink:href="#down-icon"></use></svg></div><ul class='methods accordion-content'><li data-type='method'><a href="TextChannel.html#fetch">fetch</a></li><li data-type='method'><a href="TextChannel.html#send">send</a></li><li data-type='method'><a href="TextChannel.html#setName">setName</a></li><li data-type='method'><a href="TextChannel.html#setParent">setParent</a></li><li data-type='method'><a href="TextChannel.html#setPosition">setPosition</a></li></ul></li><li class="accordion collapsed child" id=7003880><div class="accordion-heading child"><a href="User.html">User</a><svg><use xlink:href="#down-icon"></use></svg></div><ul class='methods accordion-content'><li data-type='method'><a href="User.html#fetch">fetch</a></li></ul></li><li class="accordion collapsed child" id=2614886><div class="accordion-heading child"><a href="UserManager.html">UserManager</a><svg><use xlink:href="#down-icon"></use></svg></div><ul class='methods accordion-content'><li data-type='method'><a href="UserManager.html#fetch">fetch</a></li></ul></li><li class="accordion collapsed child" id=3502814><div class="accordion-heading child"><a href="VoiceChannel.html">VoiceChannel</a><svg><use xlink:href="#down-icon"></use></svg></div><ul class='methods accordion-content'><li data-type='method'><a href="VoiceChannel.html#fetch">fetch</a></li><li data-type='method'><a href="VoiceChannel.html#setName">setName</a></li><li data-type='method'><a href="VoiceChannel.html#setParent">setParent</a></li><li data-type='method'><a href="VoiceChannel.html#setPosition">setPosition</a></li></ul></li></ul> </div><div class="accordion collapsed" id="1998958" > <h3 class="accordion-heading">Global<svg><use xlink:href="#down-icon"></use></svg></h3><ul class="accordion-content"><li class="accordion-list" id=""><a href="global.html#BitFieldResolvable">BitFieldResolvable</a></li><li class="accordion-list" id=""><a href="global.html#ChannelData">ChannelData</a></li><li class="accordion-list" id=""><a href="global.html#ChannelResolvable">ChannelResolvable</a></li><li class="accordion-list" id=""><a href="global.html#ClientOptions">ClientOptions</a></li><li class="accordion-list" id=""><a href="global.html#DMChannelData">DMChannelData</a></li><li class="accordion-list" id=""><a href="global.html#GatewayOptions">GatewayOptions</a></li><li class="accordion-list" id=""><a href="global.html#GroupChannelData">GroupChannelData</a></li><li class="accordion-list" id=""><a href="global.html#GuildChannelData">GuildChannelData</a></li><li class="accordion-list" id=""><a href="global.html#GuildResolvable">GuildResolvable</a></li><li class="accordion-list" id=""><a href="global.html#MemberResolvable">MemberResolvable</a></li><li class="accordion-list" id=""><a href="global.html#MessageData">MessageData</a></li><li class="accordion-list" id=""><a href="global.html#TextChannelData">TextChannelData</a></li><li class="accordion-list" id=""><a href="global.html#UserData">UserData</a></li><li class="accordion-list" id=""><a href="global.html#UserResolvable">UserResolvable</a></li><li class="accordion-list" id=""><a href="global.html#VoiceChannelData">VoiceChannelData</a></li></ul> </div></div>
      

    </nav>
    <div class="navbar-ham" id="navbar-ham">
      <div>
        <div class="first"></div>
        <div class="second"></div>
        <div class="third"></div>
      </div>
    </div>

    <div id="main" class="main-content">
      
      <h1 id='page-title' class="page-title">
        guild/Guild.js
      </h1>
      

      



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>const Base = require('../Base')
const MemberManager = require('../managers/MemberManager')
const ChannelManager = require('../managers/ChannelManager')
const fetch = require('node-fetch')
const VoiceChannel = require('../channel/VoiceChannel')
const TextChannel = require('../channel/TextChannel')
const BitField = require('../client/BitField')
class Guild extends Base {
    /**
     * A guild within discord
     * @param {Object} guild The data for the guild. 
     * @extends Base
     */
    constructor(client, guild) {
        super(client)

        if (!('unavailable' in guild)) throw new RangeError("Invalid guild object.")

        /**
         * The availability of the guild.
         * @type {Boolean}
         * @readonly
         */
        this.available = !guild.unavailable
        if (this.available) {

            this.some = "AAAAAAAAAAA"


            /**
             * The guild's system channel. Used for built-in join
             * and boost messages. Currently only set to the channel ID
             * @type {String}
             */
            this.systemChannel = guild.system_channel_id

            /**
             * If the guild is NSFW
             * @type {Boolean}
             */
            this.nsfw = guild.nsfw

            /**
             * "Lazy" guilds have this set to true
             * @type {Boolean}
             */
            this.lazy = guild.lazy

            /**
             * If the guild is identified as "large"
             * @type {Boolean}
             */
            this.large = guild.large

            /**
             * A {@link Manager} containing this guild's cached members.
             * @type {MemberManager}
             */
            this.members = new MemberManager(this.client, this)

            /**
             * The region in which voice channel servers are preferred to be in.
             * @type {String}
             */
            this.locale = guild.preferred_locale

            /**
             * This hash of this guild's splash image
             * @type {String}
             */
            this.splash = guild.splash

            /**
             * The name of the guild
             * @type {String}
             */
            this.name = guild.name
            
            /**
             * The owner of the guild.
             * @member {Member} owner
             * @memberof Guild 
             * @readonly
             * @instance
             */
            this.members.fetch(guild.owner_id).then(u => Object.defineProperty(this, 'owner', {value:u}))
            
            /**
             * The timestamp at which the user joined the guild.
             * @readonly
             */
            this.joinedTimestamp = guild.joined_at
            
            /**
             * A {@link Manager} containing this guild's cached channels.
             * @readonly
             */
            Object.defineProperty(this, 'channels', { value: new ChannelManager(this.client, guild.channels) })

            /**
             * The guild's enabled features.
             * @readonly
             */
            Object.defineProperty(this, 'features', { value: guild.features })

        }
        /**
         * The guild's id.
         * @readonly
         */
        Object.defineProperty(this, 'id', {value: guild.id, enumerable:true})
    }

    /**
     * Fetch this guild from Discord's API
     * @param {Boolean} cache Whether or not to cache the result
     * @param {Boolean} forceApi Whether or not to go directly to the API before checking the cache
     * @returns {Promise&lt;Guild>}
     */
    fetch(cache = true, forceApi = false) {
        return new Promise((resolve, reject) => {
            if (this.client.guilds.has(this.id) &amp;&amp; !forceApi)
                if (this.client.guilds.get(this.id).instantiated >= this.instantiated &amp;&amp; !forceApi) resolve(this.client.guilds.get(this.id))
                else if (this.instantiated > this.client.guilds.get(this.id) &amp;&amp; !forceApi) {
                    if (cache) this.client.guilds.updateCache(this)
                    resolve(this)
                } else fetch('https://discord.com/api/guilds/' + this.id, { method: 'GET', headers: { 'Authorization': 'Bot' + this.client.token }})
                    .then(res => res.json())
                    .then(res => {
                        if (cache) {
                            this.client.guilds.updateCache(res)
                            resolve(this.client.guilds.cache.get(res.id))
                        } else resolve(Guild.resolve(res))
                    }).catch(reject)
            reject(new Error("Could not fetch?"))
        })
    }

    /**
     * Edits the guild using the api.
     * @param {Object} content The parts to update
     * @private
     * @returns {Promise&lt;Guild>} The new guild
     */
    edit(content = {}) {
        return new Promise((resolve, reject) => {
            fetch('https://discord.com/api/guilds/' + this.id, { method: 'PATCH', body: JSON.stringify(content), 'headers': { 'Authorization': 'Bot ' + this.client.token, 'Content-Type': 'application/json' } })
                .then(res => res.json())
                .then(body => {
                    resolve(this.client.guilds.cache.get(body.id))
                }).catch(reject)
        })
    }

    /**
     * Sets the name of the guild.
     * @param {string} name The new name of the guild
     * @returns {Promise&lt;Guild>} The updated guild.
     */
    setName(name) {
        return this.edit({ 'name': name })
    }

    /**
     * Sets the verification level of the guild.&lt;br>&lt;ol>
     * &lt;li>Unrestricted&lt;/li>
     * &lt;li>Verified Email&lt;/li>
     * &lt;li>Registered Discord user for 5+ minutes&lt;/li>
     * &lt;li>Server member for 10+ minutes&lt;/li>
     * &lt;li>Verified phone number&lt;/li>&lt;ol>
     * @param {String|Number} level The level of verification.
     * @returns {Promise&lt;Guild>} The updated guild.
     */
    setVerification(level) {
        let lev = level
        if (lev instanceof String) lev = Number(lev)
        if (isNaN(lev)) {
            const error = new RangeError("Non-number input. Expected number or stringified number.")
            error.input = level
            throw error
        }
        if (lev > 4 || lev &lt; 0) throw new RangeError("Expected input to be between zero and four. Was " + lev)
        if (lev % 1 !== 0) throw new RangeError("Expected input to be an integer. Was " + lev)
        return this.edit({ 'verification_level': lev })
    }

    /**
     * Sets the explicit content filter level of the guild.&lt;ol>
     * &lt;li>Unfiltered&lt;/li>
     * &lt;li>Filter content from role-less members&lt;/li>
     * &lt;li>Filter content from anyone&lt;/li>&lt;/ol>
     * @param {String|Number} level The level of the filter.
     * @returns {Promise&lt;Guild>} The updated guild.
     */
    setFilter(level) {
        let lev = level
        if (lev instanceof String) lev = Number(lev)
        if (isNaN(lev)) {
            const error = new RangeError("Non-number input. Expected number or stringified number.")
            error.input = level
            throw error
        }
        if (lev > 2 || lev &lt; 0) throw new RangeError("Expected input to be between zero and two. Was " + lev)
        if (lev % 1 !== 0) throw new RangeError("Expected input to be an integer. Was " + lev)
        return this.edit({ 'explicit_content_filter': lev })
    }

    /**
     * Sets the afk timeout of this guild's voice channels.
     * @param {String|Number} timeout The new timeout.
     * @returns {Promise&lt;Guild>} The updated guild.
     */
    setTimeout(timeout) {
        let seconds = timeout
        if (seconds instanceof String) seconds = Number(seconds)
        if (isNaN(seconds)) {
            const error = new RangeError("Non-number input. Expected number or stringified number.")
            error.input = timeout
            throw error
        }
        if (seconds &lt; 0) throw new RangeError("Expected input to be positive. Was " + seconds)
        if (seconds % 1 !== 0) throw new RangeError("Expected input to be an integer. Was " + seconds)
        return this.edit({ 'afk_timeout': seconds })
    }

    /**
     * Sets the guild's afk channel.
     * @param {String|Number} channel The id of the new channel.
     * @returns {Promise&lt;Guild>} The updated guild.
     */
    setIdleChannel(channel) {
        if (!this.channels.cache.has(channel.toString())) {
            const error = new RangeError("Invalid/uncached channel ID. Try refreshing cache first.")
            error.id = channel
            throw error
        }
        if (!(this.channels.cache.get(channel.toString()) instanceof VoiceChannel)) {
            const error = new RangeError("Invalid channel ID. Must be a voice channel.")
            error.id = channel
            throw error
        }
        return this.edit({ 'afk_channel_id': channel })
    }

    /**
     * Sets the default notification level of the guild.
     * @param {String|Number} level The default notification level.
     * @returns {Promise&lt;Guild>} The updated guild.
     */
    setDefaultNotifications(level) {
        let lev = Number(level)
        if (lev !== 0 &amp;&amp; lev !== 1) throw new RangeError("Expected input to be 0 or 1. Got " + level)
        return this.edit({ 'default_message_notifications': lev })
    }
    
    /**
     * Sets the icon of the guild.
     * @param {Buffer|String} imageData A buffer of image data or Base64 encryption of it.
     * @returns {Promise&lt;Guild>} The updated guild.
     */
    setIcon(imageData) {
        let dat = imageData
        if (typeof dat !== 'string') dat = dat.toString('base64')
        return this.edit({ 'icon': 'data:image/jpeg;base64,' + dat })
    }

    /**
     * Sets the splash image of the guild.
     * @param {Buffer|String} imageData A buffer of image data or Base64 encryption of it.
     * @returns {Promise&lt;Guild>} The updated guild.
     */
    setSplash(imageData) {
        let dat = imageData
        if (typeof dat !== 'string') dat = dat.toString('base64')
        return this.edit({ 'splash': 'data:image/jpeg;base64,' + dat })
    }

    /**
     * Sets the discovery splash image of the guild.
     * @param {Buffer|String} imageData A buffer of image data or Base64 encryption of it.
     * @returns {Promise&lt;Guild>} The updated guild.
     */
    setDiscoverySplash(imageData) {
        let dat = imageData
        if (typeof dat !== 'string') dat = dat.toString('base64')
        return this.edit({ 'discovery_splash': 'data:image/jpeg;base64,' + dat })
    }
    
    /**
     * Sets the banner image of the guild.
     * @param {Buffer|String} imageData A buffer of JPEG image data or Base64 encryption of it.
     * @returns {Promise&lt;Guild>} The updated guild.
     */
    setBanner(imageData) {
        let dat = imageData
        if (typeof dat !== 'string') dat = dat.toString('base64')
        return this.edit({ 'banner': 'data:image/jpeg;base64,' + dat })
    }

    /**
     * Sets the owner of the guild. Must be the owner of the guild to do this.
     * @param {String|Number} snowflake The id of the new owner.
     * @returns {Promise&lt;Guild>} The updated guild.
     */
    setOwner(snowflake) {
        if (this.owner.id !== this.client.user.id) throw Error("Must be the guild owner to transfer ownership.")
        return this.edit({ 'owner': snowflake })
    }

    /**
     * Sets the guild's "system channel."
     * @param {String|Number} channel The id of the new channel.
     * @returns {Promise&lt;Guild>} The updated guild.
     */
    setSystemChannel(channel) {
        if (!this.channels.cache.has(channel.toString())) {
            const error = new RangeError("Invalid/uncached channel ID. Try refreshing cache first.")
            error.id = channel
            throw error
        }
        if (!(this.channels.cache.get(channel.toString()) instanceof TextChannel)) {
            const error = new RangeError("Invalid channel ID. Must be a text channel.")
            error.id = channel
            throw error
        }
        return this.edit({ 'system_channel_id': channel })
    }

    /**
     * Sets the guild's system channel settings.
     * @param {BitField|Number} bitfield The flags to set..
     * @returns {Promise&lt;Guild>} The updated guild.
     */
    setSystemFlags(bitfield) {
        let bits = bitfield
        if (bits instanceof Number) bits = new BitField(bits)
        if (bits.bitfield > 7) throw new RangeError("Bitfield cannot have a value greater than 7. Got " + bits.bitfield)
        return this.edit({ 'afk_channel_id': bits.bitfield })
    }

    /**
     * Sets the guild's "rules channel."
     * @param {String|Number} channel The id of the new channel.
     * @returns {Promise&lt;Guild>} The updated guild.
     */
    setRulesChannel(channel) {
        if (!this.channels.cache.has(channel.toString())) {
            const error = new RangeError("Invalid/uncached channel ID. Try refreshing cache first.")
            error.id = channel
            throw error
        }
        if (!(this.channels.cache.get(channel.toString()) instanceof TextChannel)) {
            const error = new RangeError("Invalid channel ID. Must be a text channel.")
            error.id = channel
            throw error
        }
        return this.edit({ 'rules_channel_id': channel })
    }

    /**
     * Sets the guild's "updates channel."
     * @param {String|Number} channel The id of the new channel.
     * @returns {Promise&lt;Guild>} The updated guild.
     */
    setUpdatesChannel(channel) {
        if (!this.channels.cache.has(channel.toString())) {
            const error = new RangeError("Invalid/uncached channel ID. Try refreshing cache first.")
            error.id = channel
            throw error
        }
        if (!(this.channels.cache.get(channel.toString()) instanceof TextChannel)) {
            const error = new RangeError("Invalid channel ID. Must be a text channel.")
            error.id = channel
            throw error
        }
        return this.edit({ 'public_updates_channel_id': channel })
    }

    /**
     * Sets the guild's discovery description
     * @param {string} description The new description.
     * @returns {Promise&lt;Guild>} The updated guild.
     */
    setDescription(description) {
        description = description.toString()
        return this.edit({ 'description': description })
    }

    /**
     * Sets the guild's features
     * Valid options are &lt;code>ANIMATED_ICON, BANNER, COMMERCE,
     * COMMUNITY, DISCOVERABLE, FEATURABLE, INVITE_SPLASH,
     * MEMBER_VERIFICATION_GATE_ENABLED, NEWS, PARTNERED,
     * PREVIEW_ENABLED, VANITY_URL, VERIFIED, VIP_REGIONS,
     * WELCOME_SCREEN_ENABLED&lt;/code>&lt;br>
     * Note that not all of these may be usable in all guilds.
     * @param {String|String[]} features The new list of features.
     * @returns {Promise&lt;Guild>} The updated guild.
     */
    setFeatures(features) {
        if (!Array.isArray(features)) features = [features]
        return this.edit({ 'features': features })
    }

    /**
     * Add to the guild's features
     * Valid options are &lt;code>ANIMATED_ICON, BANNER, COMMERCE,
     * COMMUNITY, DISCOVERABLE, FEATURABLE, INVITE_SPLASH,
     * MEMBER_VERIFICATION_GATE_ENABLED, NEWS, PARTNERED,
     * PREVIEW_ENABLED, VANITY_URL, VERIFIED, VIP_REGIONS,
     * WELCOME_SCREEN_ENABLED&lt;/code>&lt;br>
     * Note that not all of these may be usable in all guilds or
     * settable through the API.
     * @param {String|String[]} features The new list of features.
     * @returns {Promise&lt;Guild>} The updated guild.
     */
    addFeatures(features) {
        if (!Array.isArray(features)) features = [features]
        let oldFeats = new Set(this.features)
        features.forEach(oldFeats.add)
        return this.edit({ 'features': Array.from(oldFeats) })
    }

    /**
     * Deletes the guild, as long as you're the guild owner.
     * @returns {Promise&lt;Boolean|Error>} Returns true if successful. Otherwise, rejects with an error.
     */
    delete() {
        if (this.owner.id !== this.client.user.id) throw Error("Must be the guild owner to delete a guild.")
        return new Promise((resolve, reject) => {
            fetch('https://discord.com/api/guilds/' + this.id, { method: 'DELETE', headers: { 'Authorization': 'Bot' + this.client.token }})
                .then(res => res.json())
                .then(res => {
                    if (!JSON.stringify(res).includes('204')) {
                        let error = new Error("Could not delete guild.")
                        error.response = res
                        reject(error)
                    }
                    this.client.guilds.cache.delete(this.id)
                    resolve(true)
                }).catch(reject)
            reject(new Error("Could not delete?"))
        })
    }
}

module.exports = Guild
</code></pre>
        </article>
    </section>




    </div>

    <footer class="footer" id="footer">
      
    </footer>

    <script src="scripts/third-party/prettify.js"></script>
    <script src="scripts/third-party/lang-css.js"></script>
    <script type="text/javascript" src="scripts/misc.js"></script>

    <script>prettyPrint();</script>
    <script src="scripts/linenumber.js"></script>
    <script src="scripts/fix-code-block.js"></script>
    <script src="scripts/fix-navbar.js"></script>
    
      <script src="scripts/search.js"></script>
      <script src="scripts/third-party/fuse.js"></script>
      <script>
        var list = [{"title":"Base","link":"<a href=\"Base.html\">Base</a>"},{"title":"Base.resolve","link":"<a href=\"Base.html#.resolve\">Base.resolve &rtrif; undefined</a>"},{"title":"BitField","link":"<a href=\"BitField.html\">BitField</a>"},{"title":"BitField.resolve","link":"<a href=\"BitField.html#.resolve\">BitField.resolve &rtrif; undefined</a>"},{"title":"BitField#add","link":"<a href=\"BitField.html#add\">BitField &rtrif; add</a>"},{"title":"BitField#any","link":"<a href=\"BitField.html#any\">BitField &rtrif; any</a>"},{"title":"BitField#equals","link":"<a href=\"BitField.html#equals\">BitField &rtrif; equals</a>"},{"title":"BitField#freeze","link":"<a href=\"BitField.html#freeze\">BitField &rtrif; freeze</a>"},{"title":"BitField#has","link":"<a href=\"BitField.html#has\">BitField &rtrif; has</a>"},{"title":"BitField#missing","link":"<a href=\"BitField.html#missing\">BitField &rtrif; missing</a>"},{"title":"BitField#remove","link":"<a href=\"BitField.html#remove\">BitField &rtrif; remove</a>"},{"title":"BitField#serialize","link":"<a href=\"BitField.html#serialize\">BitField &rtrif; serialize</a>"},{"title":"BitField#toArray","link":"<a href=\"BitField.html#toArray\">BitField &rtrif; toArray</a>"},{"title":"Channel","link":"<a href=\"Channel.html\">Channel</a>"},{"title":"Channel.compelete","link":"<a href=\"Channel.html#.compelete\">Channel.compelete &rtrif; undefined</a>"},{"title":"Channel#fetch","link":"<a href=\"Channel.html#fetch\">Channel &rtrif; fetch</a>"},{"title":"ChannelManager","link":"<a href=\"ChannelManager.html\">ChannelManager</a>"},{"title":"ChannelManager#fetch","link":"<a href=\"ChannelManager.html#fetch\">ChannelManager &rtrif; fetch</a>"},{"title":"ChannelManager#resolve","link":"<a href=\"ChannelManager.html#resolve\">ChannelManager &rtrif; resolve</a>"},{"title":"ChannelManager#updateCache","link":"<a href=\"ChannelManager.html#updateCache\">ChannelManager &rtrif; updateCache</a>"},{"title":"Client","link":"<a href=\"Client.html\">Client</a>"},{"title":"Client#login","link":"<a href=\"Client.html#login\">Client &rtrif; login</a>"},{"title":"GatewayManager","link":"<a href=\"GatewayManager.html\">GatewayManager</a>"},{"title":"GatewayManager#connect","link":"<a href=\"GatewayManager.html#connect\">GatewayManager &rtrif; connect</a>"},{"title":"Guild","link":"<a href=\"Guild.html\">Guild</a>"},{"title":"Guild#addFeatures","link":"<a href=\"Guild.html#addFeatures\">Guild &rtrif; addFeatures</a>"},{"title":"Guild#delete","link":"<a href=\"Guild.html#delete\">Guild &rtrif; delete</a>"},{"title":"Guild#fetch","link":"<a href=\"Guild.html#fetch\">Guild &rtrif; fetch</a>"},{"title":"Guild#setBanner","link":"<a href=\"Guild.html#setBanner\">Guild &rtrif; setBanner</a>"},{"title":"Guild#setDefaultNotifications","link":"<a href=\"Guild.html#setDefaultNotifications\">Guild &rtrif; setDefaultNotifications</a>"},{"title":"Guild#setDescription","link":"<a href=\"Guild.html#setDescription\">Guild &rtrif; setDescription</a>"},{"title":"Guild#setDiscoverySplash","link":"<a href=\"Guild.html#setDiscoverySplash\">Guild &rtrif; setDiscoverySplash</a>"},{"title":"Guild#setFeatures","link":"<a href=\"Guild.html#setFeatures\">Guild &rtrif; setFeatures</a>"},{"title":"Guild#setFilter","link":"<a href=\"Guild.html#setFilter\">Guild &rtrif; setFilter</a>"},{"title":"Guild#setIcon","link":"<a href=\"Guild.html#setIcon\">Guild &rtrif; setIcon</a>"},{"title":"Guild#setIdleChannel","link":"<a href=\"Guild.html#setIdleChannel\">Guild &rtrif; setIdleChannel</a>"},{"title":"Guild#setName","link":"<a href=\"Guild.html#setName\">Guild &rtrif; setName</a>"},{"title":"Guild#setOwner","link":"<a href=\"Guild.html#setOwner\">Guild &rtrif; setOwner</a>"},{"title":"Guild#setRulesChannel","link":"<a href=\"Guild.html#setRulesChannel\">Guild &rtrif; setRulesChannel</a>"},{"title":"Guild#setSplash","link":"<a href=\"Guild.html#setSplash\">Guild &rtrif; setSplash</a>"},{"title":"Guild#setSystemChannel","link":"<a href=\"Guild.html#setSystemChannel\">Guild &rtrif; setSystemChannel</a>"},{"title":"Guild#setSystemFlags","link":"<a href=\"Guild.html#setSystemFlags\">Guild &rtrif; setSystemFlags</a>"},{"title":"Guild#setTimeout","link":"<a href=\"Guild.html#setTimeout\">Guild &rtrif; setTimeout</a>"},{"title":"Guild#setUpdatesChannel","link":"<a href=\"Guild.html#setUpdatesChannel\">Guild &rtrif; setUpdatesChannel</a>"},{"title":"Guild#setVerification","link":"<a href=\"Guild.html#setVerification\">Guild &rtrif; setVerification</a>"},{"title":"GuildChannel","link":"<a href=\"GuildChannel.html\">GuildChannel</a>"},{"title":"GuildChannel#fetch","link":"<a href=\"GuildChannel.html#fetch\">GuildChannel &rtrif; fetch</a>"},{"title":"GuildChannel#setName","link":"<a href=\"GuildChannel.html#setName\">GuildChannel &rtrif; setName</a>"},{"title":"GuildChannel#setParent","link":"<a href=\"GuildChannel.html#setParent\">GuildChannel &rtrif; setParent</a>"},{"title":"GuildChannel#setPosition","link":"<a href=\"GuildChannel.html#setPosition\">GuildChannel &rtrif; setPosition</a>"},{"title":"GuildManager","link":"<a href=\"GuildManager.html\">GuildManager</a>"},{"title":"GuildManager#fetch","link":"<a href=\"GuildManager.html#fetch\">GuildManager &rtrif; fetch</a>"},{"title":"GuildManager#resolve","link":"<a href=\"GuildManager.html#resolve\">GuildManager &rtrif; resolve</a>"},{"title":"GuildManager#updateCache","link":"<a href=\"GuildManager.html#updateCache\">GuildManager &rtrif; updateCache</a>"},{"title":"GuildMember","link":"<a href=\"GuildMember.html\">GuildMember</a>"},{"title":"GuildMember#fetch","link":"<a href=\"GuildMember.html#fetch\">GuildMember &rtrif; fetch</a>"},{"title":"Manager","link":"<a href=\"Manager.html\">Manager</a>"},{"title":"Manager#resolve","link":"<a href=\"Manager.html#resolve\">Manager &rtrif; resolve</a>"},{"title":"Manager#updateCache","link":"<a href=\"Manager.html#updateCache\">Manager &rtrif; updateCache</a>"},{"title":"MemberManager","link":"<a href=\"MemberManager.html\">MemberManager</a>"},{"title":"MemberManager#fetch","link":"<a href=\"MemberManager.html#fetch\">MemberManager &rtrif; fetch</a>"},{"title":"MemberManager#listMembers","link":"<a href=\"MemberManager.html#listMembers\">MemberManager &rtrif; listMembers</a>"},{"title":"MemberManager#resolve","link":"<a href=\"MemberManager.html#resolve\">MemberManager &rtrif; resolve</a>"},{"title":"MemberManager#searchMembers","link":"<a href=\"MemberManager.html#searchMembers\">MemberManager &rtrif; searchMembers</a>"},{"title":"MemberManager#updateCache","link":"<a href=\"MemberManager.html#updateCache\">MemberManager &rtrif; updateCache</a>"},{"title":"Message","link":"<a href=\"Message.html\">Message</a>"},{"title":"TextChannel","link":"<a href=\"TextChannel.html\">TextChannel</a>"},{"title":"TextChannel#fetch","link":"<a href=\"TextChannel.html#fetch\">TextChannel &rtrif; fetch</a>"},{"title":"TextChannel#send","link":"<a href=\"TextChannel.html#send\">TextChannel &rtrif; send</a>"},{"title":"TextChannel#setName","link":"<a href=\"TextChannel.html#setName\">TextChannel &rtrif; setName</a>"},{"title":"TextChannel#setParent","link":"<a href=\"TextChannel.html#setParent\">TextChannel &rtrif; setParent</a>"},{"title":"TextChannel#setPosition","link":"<a href=\"TextChannel.html#setPosition\">TextChannel &rtrif; setPosition</a>"},{"title":"User","link":"<a href=\"User.html\">User</a>"},{"title":"User#fetch","link":"<a href=\"User.html#fetch\">User &rtrif; fetch</a>"},{"title":"UserManager","link":"<a href=\"UserManager.html\">UserManager</a>"},{"title":"UserManager#fetch","link":"<a href=\"UserManager.html#fetch\">UserManager &rtrif; fetch</a>"},{"title":"VoiceChannel","link":"<a href=\"VoiceChannel.html\">VoiceChannel</a>"},{"title":"VoiceChannel#fetch","link":"<a href=\"VoiceChannel.html#fetch\">VoiceChannel &rtrif; fetch</a>"},{"title":"VoiceChannel#setName","link":"<a href=\"VoiceChannel.html#setName\">VoiceChannel &rtrif; setName</a>"},{"title":"VoiceChannel#setParent","link":"<a href=\"VoiceChannel.html#setParent\">VoiceChannel &rtrif; setParent</a>"},{"title":"VoiceChannel#setPosition","link":"<a href=\"VoiceChannel.html#setPosition\">VoiceChannel &rtrif; setPosition</a>"},{"title":"BitFieldResolvable","link":"<a href=\"global.html#BitFieldResolvable\">BitFieldResolvable</a>"},{"title":"ChannelData","link":"<a href=\"global.html#ChannelData\">ChannelData</a>"},{"title":"ChannelResolvable","link":"<a href=\"global.html#ChannelResolvable\">ChannelResolvable</a>"},{"title":"ClientOptions","link":"<a href=\"global.html#ClientOptions\">ClientOptions</a>"},{"title":"DMChannelData","link":"<a href=\"global.html#DMChannelData\">DMChannelData</a>"},{"title":"GatewayOptions","link":"<a href=\"global.html#GatewayOptions\">GatewayOptions</a>"},{"title":"GroupChannelData","link":"<a href=\"global.html#GroupChannelData\">GroupChannelData</a>"},{"title":"GuildChannelData","link":"<a href=\"global.html#GuildChannelData\">GuildChannelData</a>"},{"title":"GuildResolvable","link":"<a href=\"global.html#GuildResolvable\">GuildResolvable</a>"},{"title":"MemberResolvable","link":"<a href=\"global.html#MemberResolvable\">MemberResolvable</a>"},{"title":"MessageData","link":"<a href=\"global.html#MessageData\">MessageData</a>"},{"title":"TextChannelData","link":"<a href=\"global.html#TextChannelData\">TextChannelData</a>"},{"title":"UserData","link":"<a href=\"global.html#UserData\">UserData</a>"},{"title":"UserResolvable","link":"<a href=\"global.html#UserResolvable\">UserResolvable</a>"},{"title":"VoiceChannelData","link":"<a href=\"global.html#VoiceChannelData\">VoiceChannelData</a>"}];
        var options = 
          setupSearch(list, options)
      </script>
    

    

    

    

    


  </body>

</html>
